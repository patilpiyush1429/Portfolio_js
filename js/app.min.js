var imagePath = "./images";

var cards = [
  {
    title: "Profile",
    width: 280,
    html: `<div class="profile-image"><img src="${imagePath}/piyush.jpg" alt="PiyushPatil"></div>
		<div class="profile-info">
			<table>
				<tbody>
					<tr><td>Name</td><td>Piyush Ashok Patil</td></tr>
					<tr><td>Profession</td><td> .NET FullStack Developer</td></tr>
					<tr><td>Gender</td><td>Male</td></tr>
					<tr><td>Resume</td><td><a href="https://drive.google.com/file/d/1Zi5PMEh0hKFLxOemcA6NeWeEPm9C8inP/view?usp=sharing" download>Download Resume</a></td></tr>


					<tr><td>Portfolio</td><td><a href="https://protfoliowebsitepatili.on.drv.tw/www.piyush-patil.com/" target="_blank">View Now</a></td></tr>

					<tr>
            <td>Contact</td>
            <td>
              <a href="mailto:piyushpatil1429@gmail.com"><i class="fas fa-envelope"></i></a>
              <a href="https://wa.me/+919890106948"><i class="fa fa-whatsapp"></i></a>
              <a href="https://www.linkedin.com/in/patil-piyush-1429-/"><i class="fa fa-linkedin-square"></i></a>
              <a href="https://github.com/patilpiyush1429" target="_blank"><i class="fab fa-github"></i></a>
            </td>
          </tr>
				</tbody>
			</table>
		</div>`,
  },
   {
    title: "Education",
    width: 480,
    html: `<table>
			<tbody>
				<tr>
        <td>B.Tech(CSE)</td>
          <td>GH Raisoni Institute of Business Management, Jalgaon</td>
          <td>12/2021-Present</td>
        </tr>
        <tr>
        <td>Full Stack Developer</td>
          <td>Naresh i Technologies, Hyderabad</td>
          <td>12/2024-Present</td>
        </tr>
        <tr>
        <td>HSC</td>
          <td>Rani Laxmibai Mahavidyalaya , Jalgaon</td>
          <td>2019-2021</td>
        </tr>
         <tr>
        <td>SSC</td>
          <td>Dr. VM Jain High school, Jalgaon</td>
          <td>2018-2019</td>
        </tr>
			</tbody>
		</table>`,
  },

  {
    title: "Languages",
    width: 250,
    html: `<table>
			<tbody>
				<tr><td width="50%">HTML</td><td>C</td></tr>
				<tr><td width="50%">CSS</td><td>c#</td></tr>
        <tr><td>JavaScript</td><td>python</td></tr>
				<tr><td>TypeScript</td><td>Dart</td></tr>
				<tr><td>SQL</td><td>SQL Server</td></tr>
			</tbody>
		</table>`,
  },
  {
    title: "Skillset",
    width: 250,
    html: `<table>
			<tbody>
        <tr><td>Web Development</td></tr>
        <tr><td>API Creation / Integration</td></tr>
        <tr><td>UX/UI Design</td></tr>
        <tr><td>Mobile App Development</td></tr>
				<tr><td>SQL / NoSQL Database</td></tr>
        <tr><td>DevOps - Git / Docker</td></tr>
        <tr><td>Project Management</td></tr>
        <tr><td>Teamwork</td></tr>
        <tr><td>Communication</td></tr>
				<tr><td>Problem-Solving</td></tr>
			</tbody>
		</table>`,
  },
  


  {
    title: "projects",
    width: 560,
    html: `
			<table>
				<tbody>

        <tr><td>GreenDocs (DMS)</td><td>2024-Present</td><td><a href="#" onclick="modal(event)" data-title="GreenDocs">Full Report</a></td></tr>

					<tr><td>Gesture Controlled Virtual Mouse</td><td>2014 - 2024</td><td><a href="#" onclick="modal(event)" data-title="GCVM">Full Report</a></td></tr>

           <tr><td>News Management System</td><td>2024 - 2024</td><td><a href="#" onclick="modal(event)" data-title="News-Management-System">Full Report</a></td></tr>


				</tbody>
			</table>
		`,
  },
  
  {
    title: "Server Log",
    width: 400,
    html: `<div class="server-log-container"></div>`,
  },

];

var highZ = cards.length + 1;
var cardsContainer = document.querySelector(".cards-container");
var cardsContainerWidth = cardsContainer.offsetWidth;

cards.forEach(function (card, i) {
  var zIndex = i === 0 ? cards.length + 1 : cards.length - i;
  var cardClass = card.title.toLowerCase().replace(/ /g, "-");
  var cardStyles = `width: ${card.width}px;`;

  cardsContainer.innerHTML += `
		<div class="card ${cardClass}" style="${cardStyles}" tabindex="0" data-card="${cardClass}">
			<div class="card-header">
				<div class="card-title">
					<h2>${card.title}</h2>
				</div>
				<div class="card-actions">
					<a href="#" class="move-card" tabindex="-1"><i class="fa fa-arrows-alt"></i></a>
				</div>
			</div>
			<div class="card-body">
				${card.html}
			</div>
		</div>
	`;
});


var dragEl = null;
var startX = 0;
var startY = 0;
var differenceX = 0;
var differenceY = 0;
var cardEls = document.querySelectorAll(".cards-container .card");

cardEls.forEach(function (card) {
  card.onfocus = function () {
    card.style.zIndex = highZ + 1;
    highZ++;
  };
});


var AudioFeed = function (options) {
  if (!options.container) {
    return;
  }
  var audioFeed = options.container;
  var audioFeedHeight = audioFeed.clientHeight;
  var barColor = options.barColor || "#fff";
  audioFeed.style.width = "100%";
  audioFeed.style.backgroundColor = options.bgColor || "#000";
  audioFeed.style.display = "table";

  var barWidth = Math.floor(audioFeed.clientWidth / 100);

  for (var i = 0; i < 100; i++) {
    audioFeed.innerHTML += '<div class="audio-bar-wrap" style="width: ' + barWidth + 'px; display: table-cell; vertical-align: bottom;"><div class="audio-bar" style="background: ' + barColor + '; margin: 0 1px; transition: .6s;"></div></div>';
  }

  setInterval(function () {
    var bars = document.querySelectorAll(".audio-bar");

    bars.forEach(function (bar) {
      var barHeight = Math.floor(Math.random() * audioFeedHeight);
      bar.style.height = barHeight + "px";
    });
  }, 100);
};

new AudioFeed({
  container: document.querySelector(".audio-feed-container"),
  barColor: "#67B6B9",
});

// server log
var serverLogContainer = document.querySelector(".server-log-container");
var serverLog = document.querySelector(".server-log .card-body");
var commands = [];

for (var i = 0; i < 20; i++) {
  var ip = Math.floor(Math.random() * 255) + "." + Math.floor(Math.random() * 255) + "." + Math.floor(Math.random() * 255) + "." + Math.floor(Math.random() * 255);
  commands.push({ text: "Decrypting " + ip + "...", typing: true });
}

new Terminal({
  container: serverLogContainer,
  typingSpeed: 50,
  loop: true,
  commands: commands,
  lineBegin: function () {
    serverLog.scrollTop = serverLog.scrollHeight;
  },
  pause: 250,
});

var terminalWrap = document.querySelector(".terminal");
var terminalContainer = document.querySelector(".terminal .card-body");


  new Terminal({
   
  container: document.querySelector(".terminal .card-body"),
    typingSpeed: 75,
    commands: [
      {
        text: 'Load Profile -FirstName "Piyush" -LastName "Patil"',
        typing: true,
      },
      {
        text: 'Role :-".NET FullStack Developer"',
        typing: true,
      },
      {
        text: "loading........",
        typing: false,
      },
    ],
    done: function () {
      setTimeout(function () {
        terminalWrap.style.display = "none";
        cardsContainer.style.visibility = "visible";

        setTimeout(function () {
          cardsContainer.classList.add("loaded");
        });
      }, 1000);
    },
  });


var resizeTimeout;

if (window.location.pathname === "/") {
  window.onresize = function () {
    clearTimeout(resizeTimeout);

    resizeTimeout = setTimeout(function () {
      positionCards();
    }, 500);
  };

  positionCards();
}

var projects = {
  "GreenDocs": `
		<h2>GreenDocs (DMS)</h2>
		<p>Jul 2024 – present</p>

		<h3>Technologies:</h3>
		<p>▪ Asp.NET Core API | Angular | Python | SQL Server |</p>

    <h3>Description:</h3>
    <p><strong>•Document Lifecycle Management:</strong> GreenDocs manages documentsfrom creation to archival on a single platform.</p>
   <p><strong>•Version Control & Retrieval:</strong> It ensures easy document retrieval and tracks document versions for accuracy.</p>
   <p><strong>•Optical Character Recognition (OCR):</strong> OCR converts scanned images and PDFs into searchable or editable text for improved accessibility</p>
   
	`,
  "News-Management-System": `
		<h2>News Management System</h2>
		<p>Mar 2024 – May </p>

		<h3>Technologies:</h3>
		<p>▪ Python | Django | MySQL |</p>

    <h3>Description:</h3>
    <p><strong>•Module:</strong> Developed a full-stack News Management System with User,Admin, and Sub-Admin roles.</p>
   <p><strong>••User Interface :</strong> Users can read, search for news, and leave comments on articles.</p>
   <p><strong>•Accessbility:</strong> Admins manage categories, news posts, comments, and sub-admins, with functionality to restore deleted content.</p>
   <p><strong>•Management aspects :</strong> Implemented a secure login system and restricted sub-admins from creating other sub-admins.</p>
	`,
  "GCVM": `
		<h3>Gesture Controlled Virtual Mouse</h3>
		<p>Apr 2024 – May 2024</p>

		<h3>Technologies:</h3>
		<p>▪ Python | python libraries - mediapipe, eel, opencv |</p>

    <h3>Description:</h3>
    <p>Developed a system for touchless human-computer interaction using hand gestures and voice commands, utilizing MediaPipe and many more , compatible with Windows and requiring no additional hardware.</p>
	`,
};

// modal
var modalHighZ = 100;
var lastFocusEl;

function moveForward(e) {
  e.target.closest(".modal").style.zIndex = modalHighZ + 1;
  modalHighZ++;
}

function modal(e) {
  e.preventDefault();
  lastFocusEl = e.target;

  var title = e.target.dataset.title;
  var slug = title.toLowerCase().replace(/ /g, "-").replace(/\./g, "").replace(/,/g, "");
  var body = projects[title];

  modalHighZ++;

  if (document.querySelector(".modal." + slug)) {
    document.querySelector(".modal." + slug).style.zIndex = modalHighZ + 1;
  } else {
    var m = document.createElement("div");
    var cardsContainerWidth = cardsContainer.offsetWidth;
    var leftPos = cardsContainerWidth <= 480 ? Math.floor(Math.random() * 5) + 5 + "%" : Math.floor(Math.random() * 20) + 20 + "%";
    var topPos = Math.floor(Math.random() * 30) + 30 + "%";
    m.classList = "modal " + slug;
    m.style.left = leftPos;
    m.style.top = topPos;
    m.style.zIndex = modalHighZ;
    m.ontouchstart = moveForward;
    m.onmousedown = moveForward;
    m.tabIndex = 0;
    m.innerHTML = `
			<div class="modal-header">
				<div class="modal-title">projects: ${title}</div>
				<div class="modal-actions"><a title="Close Modal" href="#" onclick="closeModal(event)"><i class="fa fa-times"></i></a></div>
			</div>
			<div class="modal-body">
				<span class="classified">piyush patil</span>
				${body}
			</div>
		`;
    document.body.appendChild(m);
    setTimeout(function () {
      m.focus();
    });
  }
}

function closeModal(e) {
  e.preventDefault();
  e.target.closest(".modal").remove();
  lastFocusEl.focus();
}
